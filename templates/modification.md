# 프로젝트 변경/디버깅 지시서

> **사용 방법:** 이 파일을 프로젝트 루트에 두고, Claude에게 `@modification.md`로 참조시켜 변경사항, 에러 로그, 개선 요청을 전달하세요.

---

## 변경 요청 사항

### 변경 1: [변경 제목]

**변경 이유:**
<!-- 왜 이 변경이 필요한지 설명 -->
```
예: 사용자 피드백에서 로그인 속도가 느리다는 의견이 많음
```

**변경 내용:**
<!-- 구체적으로 무엇을 바꿀지 -->
```
- 로그인 API 응답 시간을 3초에서 1초 이하로 단축
- 비밀번호 해싱 알고리즘을 bcrypt에서 Argon2로 변경
- Redis 캐싱 추가
```

**영향 받는 파일:**
<!-- 수정이 필요한 파일 목록 -->
```
- src/auth/login.ts
- src/middleware/auth.ts
- package.json (Argon2 추가)
```

**주의사항:**
<!-- 변경 시 고려해야 할 점 -->
```
- 기존 사용자 비밀번호 마이그레이션 필요
- 테스트 케이스 업데이트
```

---

### 변경 2: [변경 제목]

**변경 이유:**


**변경 내용:**


**영향 받는 파일:**


**주의사항:**


---

## 에러 및 버그 수정

### 에러 1: [에러 제목]

**에러 발생 상황:**
<!-- 언제, 어디서 에러가 발생하는지 -->
```
예: 사용자가 프로필 이미지 업로드 시 500 에러 발생
```

**에러 로그:**
<!-- 전체 에러 로그 복사 -->
```
Error: File size exceeds limit
  at uploadImage (/src/upload/image.ts:42)
  at POST /api/upload (route.ts:18)
  at processRequest (middleware.ts:105)

Stack trace:
  ...
```

**재현 방법:**
<!-- 에러를 재현하는 단계 -->
```
1. 로그인
2. 프로필 페이지 이동
3. 5MB 이상 이미지 업로드 시도
4. 에러 발생
```

**예상 원인:**
<!-- 에러의 원인 추측 -->
```
- 파일 크기 제한이 3MB로 설정되어 있음
- 프론트엔드에서는 검증 없이 업로드 시도
```

**해결 방안:**
<!-- 어떻게 고칠지 -->
```
- 백엔드: 파일 크기 제한을 10MB로 상향
- 프론트엔드: 업로드 전 클라이언트 사이드 검증 추가 (10MB 초과 시 경고 메시지)
- 사용자에게 친화적인 에러 메시지 표시
```

---

### 에러 2: [에러 제목]

**에러 발생 상황:**


**에러 로그:**
```

```

**재현 방법:**


**예상 원인:**


**해결 방안:**


---

## UI 요소 수정 (브라우저 개발자 도구 활용)

> **사용 방법:**
> 1. 브라우저에서 F12 (개발자 도구) 열기
> 2. 요소 선택 도구(화살표 아이콘) 클릭
> 3. 수정하고 싶은 카드/블록/div 클릭
> 4. 요소 탭에서 선택자(클래스, ID) 복사
> 5. 아래 양식에 선택자와 자연어로 변경 사항 작성

### UI 수정 1: [요소 설명 - 예: 프로필 카드]

**페이지:** [어느 페이지인지 - 예: 대시보드 메인 페이지]

**선택자 (개발자 도구에서 복사):**
```
.card-container > .profile-card:nth-child(2)

또는

#user-profile-section

또는

div.dashboard-main > div:nth-child(3)
```

**현재 상태:**
<!-- 스크린샷 첨부 또는 설명 -->
```
- 스크린샷: assets/images/ui-before-1.png
- 설명: 프로필 카드가 너무 작고 글자가 잘 안 보임
```

**원하는 변경 (자연어로 작성):**
```
- 카드를 좀 더 크게 만들어주세요 (현재보다 1.5배 정도)
- 글자를 더 진하게 해주세요
- 카드 사이 간격을 좀 더 벌려주세요
- 모서리를 좀 더 둥글게 만들어주세요
```

**⚠️ 중요:**
```
- 이 요소만 수정하고, 다른 카드에는 영향 없게
- 기존 코드에 추가 div나 wrapper 절대 추가하지 말 것
- 엉키지 않게 이 선택자만 정확히 타겟팅
```

---

### UI 수정 2: [요소 설명]

**페이지:**

**선택자:**
```

```

**현재 상태:**


**원하는 변경:**


**⚠️ 중요:**


---

### 여러 페이지 동시 수정

**수정 범위:** [예: 모든 페이지의 헤더]

**공통 선택자:**
```
header.main-header
```

**페이지별 차이:**
```
- 메인 페이지: 헤더 배경을 투명하게
- 서브 페이지: 헤더 배경을 흰색으로 유지
```

**원하는 변경:**
```
- 모든 페이지 헤더 높이를 조금 낮춰주세요
- 로고 크기를 작게 해주세요
```

---

## 개선 요청 (Enhancement)

### 개선 1: [개선 제목]

**현재 상태:**
<!-- 현재 어떻게 동작하는지 -->
```
예: 대시보드 로딩 시 모든 데이터를 한번에 불러옴 (500개 항목)
```

**개선 후 목표:**
<!-- 어떻게 바뀌어야 하는지 -->
```
- 페이지네이션 추가 (한 페이지당 20개)
- 무한 스크롤 구현
- 초기 로딩 시간 5초 → 1초 이하
```

**구현 방법:**
<!-- 구체적인 구현 계획 -->
```
1. API에 ?page=1&limit=20 쿼리 파라미터 추가
2. 프론트엔드에서 Intersection Observer로 무한 스크롤 구현
3. 로딩 중 스켈레톤 UI 표시
```

**우선순위:**
- [ ] High (즉시)
- [ ] Medium (이번 주)
- [ ] Low (다음 스프린트)

---

### 개선 2: [개선 제목]

**현재 상태:**


**개선 후 목표:**


**구현 방법:**


**우선순위:**


---

## 리팩토링 요청

### 리팩토링 1: [파일/모듈명]

**문제점:**
<!-- 현재 코드의 문제 -->
```
예: src/utils/helper.ts 파일이 1000줄이 넘고, 관련 없는 함수들이 섞여있음
```

**리팩토링 계획:**
<!-- 어떻게 개선할지 -->
```
- helper.ts를 기능별로 분리:
  - dateUtils.ts: 날짜 관련 함수
  - stringUtils.ts: 문자열 처리
  - validationUtils.ts: 검증 로직
- 각 함수에 JSDoc 주석 추가
- 테스트 커버리지 80% 이상
```

**관련 파일:**
```
- src/utils/helper.ts
- src/utils/ (새로 생성)
```

---

## 테스트 요청

### 테스트 1: [기능명]

**테스트가 필요한 이유:**
```
예: 결제 모듈에 테스트가 없어서 배포 시 불안함
```

**테스트 케이스:**
```
1. 정상 결제 플로우
   - 카드 정보 입력 → 결제 요청 → 성공 응답 → DB 저장 확인

2. 에러 케이스
   - 잔액 부족 → 에러 메시지 반환
   - 네트워크 타임아웃 → 재시도 로직 동작 확인
   - 중복 결제 방지 확인

3. 엣지 케이스
   - 금액 0원 → 거부
   - 음수 금액 → 거부
```

**목표 커버리지:**
- [ ] 80% 이상

---

## 성능 최적화

### 최적화 1: [대상]

**현재 성능:**
```
예: 메인 페이지 First Contentful Paint (FCP): 4.5초
```

**목표 성능:**
```
FCP: 1.5초 이하
```

**최적화 방법:**
```
- 이미지 lazy loading
- 코드 스플리팅 (React.lazy)
- 번들 사이즈 분석 후 불필요한 라이브러리 제거
- CDN 사용
```

**측정 도구:**
```
- Lighthouse
- WebPageTest
```

---

## 문서화 요청

### 문서 1: [문서 제목]

**필요한 문서:**
```
예: API 엔드포인트 문서가 없어서 프론트엔드 개발자가 어려움을 겪음
```

**문서 내용:**
```
- 모든 REST API 엔드포인트 목록
- 요청/응답 예시
- 에러 코드 설명
- 인증 방법
```

**문서 형식:**
- [ ] Markdown (README.md)
- [ ] Swagger/OpenAPI
- [ ] Postman Collection

---

## 배포/인프라

### 배포 요청 1: [환경]

**배포 환경:**
- [ ] Development
- [ ] Staging
- [ ] Production

**배포 내용:**
```
예: v1.2.0 버전 배포 (신규 결제 기능 추가)
```

**배포 전 체크리스트:**
- [ ] 모든 테스트 통과
- [ ] 코드 리뷰 완료
- [ ] 데이터베이스 마이그레이션 준비
- [ ] 롤백 계획 수립
- [ ] 모니터링 알림 설정

**배포 일정:**
```
예: 2025-01-15 오후 3시 (사용자 트래픽 낮은 시간대)
```

---

## 기타 (임시 메모, 아이디어)

**메모:**
```
- 사용자 피드백: 다크 모드 요청 많음 → 다음 버전에 고려
- 보안 취약점 발견: XXS 공격 가능성 → 즉시 수정 필요
```

**TODO:**
- [ ] OAuth 2.0 소셜 로그인 추가
- [ ] 이메일 인증 기능
- [ ] 관리자 대시보드 개선

---

## 참고 링크

- 관련 이슈: #123
- 디자인 파일: https://figma.com/...
- 참고 문서: https://...
